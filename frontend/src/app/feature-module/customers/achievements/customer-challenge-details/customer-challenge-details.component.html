<div class="container py-5" style="max-width: 800px; font-family: Arial, sans-serif;">

  <!-- ğŸ† Challenge Title -->
  <h1 class="mb-3" style="font-weight: bold; font-size: 28px; color: #333;">
    {{ challenge?.title }}
  </h1>

  <!-- ğŸ“Œ Status Badge -->
  <span class="badge mb-4" style="background-color: #7367F0; color: white; padding: 5px 12px; border-radius: 5px; font-weight: bold;">
    {{ challenge?.status }}
  </span>

  <!-- ğŸ“¢ Dynamic Message -->
  <div class="alert mb-4" style="background-color: #f9f9f9; border-left: 5px solid #7367F0; border-radius: 5px; padding: 12px;">
    <ng-container *ngIf="challenge">
      <div *ngIf="challenge.status === 'PENDING'">
        ğŸš€ Get ready! Your challenge is about to begin. Stay motivated!
      </div>
      <div *ngIf="challenge.status === 'COMPLETED'">
        ğŸ‰ Well done! Youâ€™ve just earned {{ challenge.xpPoints }} XP for completing this challenge.
      </div>
      <div *ngIf="challenge.status === 'FAILED'">
        âŒ Challenge failed. Don't get discouraged, try again next time!
      </div>
      <div *ngIf="challenge.status === 'CANCELED'">
        ğŸš« Challenge canceled. You didn't participate.
      </div>
      <div *ngIf="challenge.status === 'ACTIVE' && !challenge.participation">
        âš ï¸ Challenge in progress! Hurry up before it's too late.
        <div>
          <strong>â³ Time left to participate:</strong> {{ calculateRemainingParticipationTime() }}
        </div>
      </div>
      <div *ngIf="challenge.status === 'ACTIVE' && challenge.participation">
        ğŸ’ª You can do it! Keep going until the end!
        <div><strong>â³ Time Rest:</strong> {{ calculateRemainingTime(challenge.endDate) }}</div>
      </div>
    </ng-container>
  </div>

  <!-- ğŸ“… Challenge Details -->
  <div class="mb-4" style="line-height: 1.8; color: #555;">
    <div><strong>ğŸ“… Start Date:</strong> {{ challenge?.startDate | date: 'dd/MM/yyyy hh:mm a' }}</div>
    <div><strong>ğŸ“… End Date:</strong> {{ challenge?.endDate | date: 'dd/MM/yyyy hh:mm a' }}</div>
    <div><strong>âš¡ XP Points:</strong> {{ challenge?.xpPoints }}</div>
    <div><strong>ğŸ“ Description:</strong> {{ challenge?.description }}</div>
  </div>

  <!-- ğŸš© Action Buttons -->
  <div class="mb-4">
    <button
      *ngIf="challenge?.status === 'ACTIVE' && !challenge?.participation"
      class="btn" style="background-color: #000; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer;"
      (click)="participate()">
      ğŸš€ Participer
    </button>

    <button
      *ngIf="challenge?.status === 'ACTIVE' && challenge?.participation"
      class="btn" style="background-color: #28a745; color: white; padding: 10px 20px; border-radius: 5px; cursor: pointer;"
      (click)="validateChallenge()">
      âœ… Valider le challenge
    </button>
  </div>

  <!-- ğŸ“– Challenge History -->
  <div class="mt-4">
    <h3 style="margin-bottom: 15px;">ğŸ•’ Challenge History</h3>
    <div style="background: #f8f8f8; padding: 15px; border-radius: 8px;">
      <div><strong>ğŸ“… Created:</strong> {{ challenge?.startDate | date: 'short' }}</div>
      <div><strong>ğŸ‘¤ Created for User:</strong> {{ challenge?.userId }}</div>
    </div>
  </div>

  <!-- ğŸ”™ Back Button -->
  <div class="mt-4">
    <a [routerLink]="['/customers/customer-challenge']"
      style="background-color: grey; color: white; padding: 6px 12px; border-radius: 4px; text-decoration: none;">
      â¬…ï¸ Back to Challenges
    </a>
  </div>

</div>
