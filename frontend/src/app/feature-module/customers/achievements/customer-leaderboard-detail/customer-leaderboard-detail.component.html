<div class="container mt-5">

  <!-- ✅ Leaderboard Name & Description -->
  <h2 class="text-center mb-2 text-success fw-bold">{{ boardDetails?.name }}</h2>
  <p class="text-center mb-4 text-muted">{{ boardDetails?.description }}</p>

  <!-- ✅ Current User Stats -->
  <div class="d-flex justify-content-center align-items-center gap-4 flex-wrap mb-5">
    <div class="d-flex flex-column align-items-center gap-3">

      <div class="rank-xp-card text-center">
        <h5 class="text-secondary mb-1">Rank</h5>
        <h2 class="text-danger fw-bold">{{ currentUserRank ?? 'N/A' }}</h2>
      </div>

      <div class="rank-xp-card text-center">
        <h5 class="text-secondary mb-1">XP Points</h5>
        <h2 class="text-danger fw-bold">{{ currentUserXP ?? '0' }}</h2>
      </div>
    </div>

    <div class="card shadow-sm text-center flex-grow-1 congrats-card" style="min-width: 200px;">
      <div class="card-body">
        <h4 class="fw-bold mb-3">
          🎉 Congrats, you are ranked #{{ currentUserRank ?? 'N/A' }} in this leaderboard!
        </h4>
        <p class="text-muted mb-3">Keep going and collect more points 🚀</p>
      </div>
    </div>
  </div>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th class="text-center">Rank</th>
        <th>User ID</th>
        
        <th>XP Points</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let user of boardDetails?.users"
        [class.table-active]="user.email === currentUserEmail"


        class="table-row-hover"
      >
        <td class="text-center">
          <ng-container [ngSwitch]="user.rank">
            <span *ngSwitchCase="1" class="badge-large">🥇</span>
            <span *ngSwitchCase="2" class="badge-large">🥈</span>
            <span *ngSwitchCase="3" class="badge-large">🥉</span>
            <span *ngSwitchDefault>{{ user.rank }}</span>
          </ng-container>
        </td>
        <td>{{ user.name }}</td>
        <td>{{ user.xpPoints }}</td>
      </tr>
    </tbody>
  </table>

  <div class="text-center mt-4">
    <button class="btn btn-secondary" (click)="goBack()">Back</button>
  </div>

</div>
