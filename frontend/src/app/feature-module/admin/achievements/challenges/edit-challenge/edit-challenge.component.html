<div class="container mt-5" style="max-width: 700px;">
  <h2 class="text-center mb-4 fw-bold">Edit Challenge</h2>

  <div *ngIf="successMessage" class="alert alert-success text-center" role="alert">
    {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger text-center" role="alert">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="updateChallenge()" #challengeForm="ngForm">

   
    <div class="mb-3">
      <label class="form-label fw-bold">Title</label>
      <input
        type="text"
        [(ngModel)]="challenge.title"
        name="title"
        class="form-control"
        required
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">Description</label>
      <textarea
        [(ngModel)]="challenge.description"
        name="description"
        class="form-control"
        rows="6"
        required
        [ngModelOptions]="{ standalone: true }"
        style="white-space: pre-wrap; resize: vertical; font-family: Arial, sans-serif;"
      ></textarea>
    </div>

  
    <div class="mb-3">
      <label class="form-label fw-bold">XP Points</label>
      <input
        type="number"
        [(ngModel)]="challenge.xpPoints"
        name="xpPoints"
        class="form-control"
        min="1"
        required
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

   
    <div class="mb-3">
      <label class="form-label fw-bold">Start Date</label>
      <input
        type="datetime-local"
        [(ngModel)]="challenge.startDate"
        name="startDate"
        class="form-control"
        required
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">End Date</label>
      <input
        type="datetime-local"
        [(ngModel)]="challenge.endDate"
        name="endDate"
        class="form-control"
        required
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="mb-3">
      <label class="form-label fw-bold">Status</label>
      <select
        [(ngModel)]="challenge.status"
        name="status"
        class="form-select"
        required
        (change)="onStatusChange(challenge.status)"
        [ngModelOptions]="{ standalone: true }"
      >
        <option *ngFor="let option of statusOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <button type="button" class="btn btn-secondary px-4" (click)="navigateToList()">Cancel</button>
      <button type="submit" class="btn btn-primary px-4">Save Changes</button>
    </div>

  </form>
</div>
