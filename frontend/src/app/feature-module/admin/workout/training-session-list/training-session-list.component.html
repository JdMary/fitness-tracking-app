<div class="page-wrapper page-settings">
    <div class="content">
        <div class="content-page-header content-page-headersplit">
            <h5>All Training Sessions</h5>
            <div class="list-btn">
                <ul>
                    <li>
                        <div class="filter-sorting">
                            <ul>
                                <li>
                                    <a href="javascript:void(0);" class="filter-sets"><i class="feather icon-filter me-2"></i>Filter</a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);" class="filter-sets">
                                        <div class="form-group mb-0 d-flex">
                                            <input type="number" 
                                                   class="form-control" 
                                                   placeholder="Enter Plan ID"
                                                   [(ngModel)]="workoutPlanId">
                                            <button class="btn btn-primary ms-2" (click)="applyFilter()">Filter</button>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <span><img src="assets/admin/img/icons/sort.svg" class="me-2" alt="img"></span>
                                    <div class="custom-select">
                                        <mat-select class="select" placeholder="Sort By">
                                            <mat-option value="trainingSessionId">Session ID</mat-option>
                                            <mat-option value="workoutPlanId">Plan ID</mat-option>
                                        </mat-select>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="btn btn-primary"><i class="fa fa-plus me-2"></i>Create Training Session</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="tab-contents-count">
                    <h6>Showing {{filteredTrainingSession.length}} sessions</h6>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="table-resposnive table-div">
                    <table matSort class="table datatable">
                        <thead>
                            <tr>
                                <th mat-sort-header="trainingSessionId">Session ID</th>
                                <th mat-sort-header="entryTime">Entry Time</th>
                                <th mat-sort-header="exitTime">Exit Time</th>
                                <th mat-sort-header="workoutPlanId">Plan ID</th>
                                <th>Exercises Count</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let session of filteredTrainingSession">
                                <td>{{session.trainingSessionId}}</td>
                                <td>{{session.entryTime | date:'medium'}}</td>
                                <td>{{session.exitTime | date:'medium'}}</td>
                                <td>{{session.workoutPlanId}}</td>
                                <td>{{session.exercises?.length || 0}}</td>
                                <td>
                                    <div class="action-items">
                                        <a class="btn btn-sm bg-info-light me-2" title="View Exercises">
                                            <i class="far fa-eye me-1"></i>
                                        </a>
                                        <a class="btn btn-sm bg-danger-light" title="Delete">
                                            <i class="far fa-trash-alt me-1"></i>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
